{"ast":null,"code":"import _slicedToArray from \"/Users/NA20449262/Desktop/nayan/ReactProjects/E-Commerce_Site/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/NA20449262/Desktop/nayan/ReactProjects/E-Commerce_Site/client/src/screens/LoginScreen.js\";\nimport React, { useEffect, useState } from 'react';\nimport FormCotaniner from '../components/FormCotaniner';\nimport { Form, Button, Row, Col } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from \"../components/Loader\";\nimport { useLoginMutation } from \"../slices/usersApliSlice\";\nimport setCredentials from \"../slices/authSlice\";\nimport toast from 'react-toastify';\nvar LoginScreen = function LoginScreen() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var dispatch = useDispatch();\n  var navigate = useNavigate();\n\n  //destructured array for userAPislice\n  var _useLoginMutation = useLoginMutation(),\n    _useLoginMutation2 = _slicedToArray(_useLoginMutation, 2),\n    login = _useLoginMutation2[0],\n    isLoading = _useLoginMutation2[1].isLoading; //stored info in the auth state\n  var _useSelector = useSelector(function (state) {\n      return state.auth;\n    }),\n    userInfo = _useSelector.userInfo; //if we procced to checkout in the cart it will check if the user is logged in or not\n  //so for that\n  var _useLocation = useLocation(),\n    search = _useLocation.search;\n  var sp = new URLSearchParams(search);\n  var redirect = sp.get('redirect') || '/';\n  useEffect(function () {\n    if (userInfo) {\n      navigate(redirect);\n    }\n  }, [userInfo, redirect, navigate]);\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    ;\n  };\n  return /*#__PURE__*/React.createElement(FormCotaniner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    className: \"my-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Email Adress\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email....\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    className: \"my-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Enter password....\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"primary\",\n    className: \"my-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Sign in\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"py-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"New Customer? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 31\n    }\n  }, \"Register\"))));\n};\nexport default LoginScreen;","map":{"version":3,"names":["React","useEffect","useState","FormCotaniner","Form","Button","Row","Col","Link","useLocation","useNavigate","useDispatch","useSelector","Loader","useLoginMutation","setCredentials","toast","LoginScreen","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","dispatch","navigate","_useLoginMutation","_useLoginMutation2","login","isLoading","_useSelector","state","auth","userInfo","_useLocation","search","sp","URLSearchParams","redirect","get","submitHandler","e","preventDefault","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","controlId","className","Label","Control","type","placeholder","value","onChange","target","variant","to"],"sources":["/Users/NA20449262/Desktop/nayan/ReactProjects/E-Commerce_Site/client/src/screens/LoginScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport FormCotaniner from '../components/FormCotaniner';\nimport { Form,Button,Row,Col } from 'react-bootstrap';\nimport {Link} from 'react-router-dom'\nimport { useLocation,useNavigate } from 'react-router-dom';\nimport { useDispatch,useSelector } from 'react-redux';\nimport Loader from \"../components/Loader\";\n\nimport {useLoginMutation }from \"../slices/usersApliSlice\"\nimport setCredentials from \"../slices/authSlice\"\nimport toast from 'react-toastify'\n\n\nconst LoginScreen = () => {\n    const [email,setEmail] = useState('');\n    const [password,setPassword] = useState('');\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    //destructured array for userAPislice\n    const[login,{isLoading}]= useLoginMutation();\n\n    //stored info in the auth state\n    const{userInfo} = useSelector((state)=>state.auth)\n\n    //if we procced to checkout in the cart it will check if the user is logged in or not\n    //so for that\n    const {search} = useLocation();\n    const sp = new URLSearchParams(search);\n    const redirect = sp.get('redirect') || '/';\n\n    useEffect(()=>{\n        if(userInfo){\n            navigate(redirect)\n        }\n\n    },[userInfo,redirect,navigate])\n\n\n\n\n\n    const submitHandler =(e)=>{\n        e.preventDefault();\n        ;\n    }\n    return (\n        <FormCotaniner>\n            <h1>Sign In</h1>\n            <Form onSubmit={submitHandler}>\n                <Form.Group controlId='email' className='my-3'>\n                    <Form.Label>Email Adress</Form.Label>\n                    <Form.Control\n                        type='email'\n                        placeholder='Enter email....'\n                        value={email}\n                        onChange={(e)=>setEmail(e.target.value)}\n                    />\n\n                </Form.Group>\n                <Form.Group controlId='password' className='my-3'>\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control\n                        type='password'\n                        placeholder='Enter password....'\n                        value={password}\n                        onChange={(e)=>setPassword(e.target.value)}\n                    />\n\n                </Form.Group>\n                <Button type='submit'\n                variant='primary'\n                className='my-3'\n                \n                >Sign in</Button>\n\n            </Form>\n            <Row className='py-3'>\n                <Col>\n                New Customer? <Link to = '/register'>Register</Link>\n                </Col>\n\n            </Row>\n\n            \n        </FormCotaniner>\n    );\n}\n\nexport default LoginScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}